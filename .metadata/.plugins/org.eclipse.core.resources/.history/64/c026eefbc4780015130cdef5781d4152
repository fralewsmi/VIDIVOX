package pkgBackgroundTasks;

import java.io.IOException;

import javax.swing.SwingWorker;

import pgkGUI.InputText;

public class FestivalTTS extends SwingWorker<Void, Void> {

	@Override
	protected Void doInBackground() throws Exception {
		
		InputText.getProgressBar().setIndeterminate(true);
		
		String textInput = InputText.getTextInput();
		
		// Bash process to run the festival text to speech
		String cmd = "echo " + textInput + " | festival --tts";
		ProcessBuilder builderPlay = new ProcessBuilder("/bin/bash", "-c", cmd);
		try {
			@SuppressWarnings("unused")
			Process process = builderPlay.start();
		} catch (IOException e1) {
			e1.printStackTrace();
		}
		return null;
	}
	
	@Override
	protected void done() {
		InputText.getProgressBar().setIndeterminate(false);
	}
}
